# Copyright 2019 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# NOTE: This file is auto generated by the elixir code generator program.
# Do not edit this file manually.

defmodule GoogleApi.StorageTransfer.V1.Model.ObjectConditions do
  @moduledoc """
  Conditions that determine which objects will be transferred. Applies only
  to S3 and Cloud Storage objects.

  ## Attributes

  *   `excludePrefixes` (*type:* `list(String.t)`, *default:* `nil`) - `excludePrefixes` must follow the requirements described for
      `includePrefixes`.

      The max size of `excludePrefixes` is 1000.
  *   `includePrefixes` (*type:* `list(String.t)`, *default:* `nil`) - If `includePrefixes` is specified, objects that satisfy the object
      conditions must have names that start with one of the `includePrefixes`
      and that do not start with any of the `excludePrefixes`. If
      `includePrefixes` is not specified, all objects except those that have
      names starting with one of the `excludePrefixes` must satisfy the object
      conditions.

      Requirements:

        * Each include-prefix and exclude-prefix can contain any sequence of
          Unicode characters, of max length 1024 bytes when UTF8-encoded, and
          must not contain Carriage Return or Line Feed characters.  Wildcard
          matching and regular expression matching are not supported.

        * Each include-prefix and exclude-prefix must omit the leading slash.
          For example, to include the `requests.gz` object in a transfer from
          `s3://my-aws-bucket/logs/y=2015/requests.gz`, specify the include
          prefix as `logs/y=2015/requests.gz`.

        * None of the include-prefix or the exclude-prefix values can be empty,
          if specified.

        * Each include-prefix must include a distinct portion of the object
          namespace, i.e., no include-prefix may be a prefix of another
          include-prefix.

        * Each exclude-prefix must exclude a distinct portion of the object
          namespace, i.e., no exclude-prefix may be a prefix of another
          exclude-prefix.

        * If `includePrefixes` is specified, then each exclude-prefix must start
          with the value of a path explicitly included by `includePrefixes`.

      The max size of `includePrefixes` is 1000.
  *   `maxTimeElapsedSinceLastModification` (*type:* `String.t`, *default:* `nil`) - If specified, only objects with a `lastModificationTime` on or after
      `NOW` - `maxTimeElapsedSinceLastModification` and objects that don't have
      a `lastModificationTime` are transferred.

      Note that, for each `TransferOperation` started by this `TransferJob`,
      `NOW` refers to the `start_time` of the 'TransferOperation`. Also,
      `lastModificationTime` refers to the time of the last change to the
      object's content or metadata - specifically, this would be the `updated`
      property of Cloud Storage objects and the `LastModified` field of S3
      objects.
  *   `minTimeElapsedSinceLastModification` (*type:* `String.t`, *default:* `nil`) - If specified, only objects with a `lastModificationTime` before
      `NOW` - `minTimeElapsedSinceLastModification` and objects that don't have a
      `lastModificationTime` are transferred.

      Note that, for each `TransferOperation` started by this `TransferJob`,
      `NOW` refers to the `start_time` of the 'TransferOperation`. Also,
      `lastModificationTime` refers to the time of the last change to the
      object's content or metadata - specifically, this would be the `updated`
      property of Cloud Storage objects and the `LastModified` field of S3
      objects.
  """

  use GoogleApi.Gax.ModelBase

  @type t :: %__MODULE__{
          :excludePrefixes => list(String.t()),
          :includePrefixes => list(String.t()),
          :maxTimeElapsedSinceLastModification => String.t(),
          :minTimeElapsedSinceLastModification => String.t()
        }

  field(:excludePrefixes, type: :list)
  field(:includePrefixes, type: :list)
  field(:maxTimeElapsedSinceLastModification)
  field(:minTimeElapsedSinceLastModification)
end

defimpl Poison.Decoder, for: GoogleApi.StorageTransfer.V1.Model.ObjectConditions do
  def decode(value, options) do
    GoogleApi.StorageTransfer.V1.Model.ObjectConditions.decode(value, options)
  end
end

defimpl Poison.Encoder, for: GoogleApi.StorageTransfer.V1.Model.ObjectConditions do
  def encode(value, options) do
    GoogleApi.Gax.ModelBase.encode(value, options)
  end
end
